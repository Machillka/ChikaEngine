// Auto-generated by ChikaEngine Registry Generator. DO NOT EDIT.
#include "ChikaEngine/ScriptBindingRegistry.h"
#include "{{ header_path }}"
#include <pybind11/pybind11.h>
#include <pybind11/stl.h>

namespace py = pybind11;

namespace ChikaEngine::Reflection
{
    {% for class in classes %}
     template<>
    class Reflector<{{ class.full_name }}>
    {
    public:
        static void BindPython(py::module& m)
        {
            auto cl = py::class_<{{ class.full_name }}>(m, "{{ class.name }}")
                {% if not class.is_abstract %}
                .def(py::init<>())
                {% endif %};

            {% for field in class.fields %}
            cl.def_readwrite("{{ field.name }}", &{{ class.full_name }}::{{ field.name }});
            {% endfor %}

            /*{% for func in class.functions %}
            cl.def("{{ func.name }}", 
                py::overload_cast<{% for p in func.params %}{{ p.type }}{{ "," if not loop.last }}{% endfor %}> (
                    &{{ class.full_name }}::{{ func.name }}
                    {% if func.is_const %}, py::const_{% endif %}
                )
            );
            {% endfor %}*/
            {% for func in class.functions %}
            cl.def("{{ func.name }}", 
                py::overload_cast<{% for p in func.params %}{{ p.sig_type }}{{ "," if not loop.last }}{% endfor %}> (
                    &{{ class.full_name }}::{{ func.name }}
                    {% if func.is_const %}, py::const_{% endif %}
                )
            );
            {% endfor %}
        }
    };

    extern "C" void Python_{{ unique_id }}() 
    {
        ChikaEngine::Scripts::ScriptBindingRegistry::Instance().Register(
            [](py::module& m) {
            Reflector<{{ class.full_name }}>::BindPython(m);
            },
            "{{ class.name }}"
        );
    }
    {% endfor %}
}